{{- $footer       := .Site.Params.footer }}
{{- $logo         := index $footer "logo" }}
{{- $footerLinks  := index $footer "footerlinks" }}
{{- $productLinks := index $footer "product" }}
{{- $docLinks     := index $footer "docs" }}
{{- $socialMedia  := index $footer "socialmedia" }}
{{- $bulmaLogo    := index $footer "bulmalogo" }}
<footer class="footer footer-dark">
  <script>
    function addClass(classId, className) {
      var element = document.getElementById(classId);
      element.classList.add(className);
    }
    function removeClass(classId, className) {
      var element = document.getElementById(classId);
      element.classList.remove(className);
    }
  </script>
  <div class="container">
    <div class="columns">
      {{- range $footerLinks }}
        <div class="column">
          <div id="{{ .id }}" class="modal">
            <div class="modal-background"></div>
            <div class="modal-content">
              {{ $path := printf "%s.html" .id }}
              {{ partial $path . }}
            </div>
            <button class="modal-close is-large" onclick="removeClass({{ .id }},'is-active')" aria-label="close"></button>
          </div>
          <ul class="link-list"><li>
            <a href="#" onclick="addClass({{ .id }},'is-active')">{{ .linkname }}</a>
          </li></ul>
        </div>
      {{- end }}

      <p style="text-align:right; font-size:0.8rem">Illustrations credits: <a target="_blank" href="https://www.vecteezy.com">Vecteezy.com</a> and <a target="_blank" href="https://www.vecteezy.com">FreePik.com</a></p>

      {{- if $socialMedia }}
        <div class="column">
          <div class="footer-column">
            <div class="footer-header">
              <h3>Follow Us</h3>
              <nav class="level is-mobile">
                <div class="level-left">
                  {{- range $socialMedia }}
                  <a class="level-item" href="{{ .link }}">
                    <span class="icon"><i class="fa fa-{{ .icon }}"></i></span>
                  </a>
                  {{- end }}
                </div>
              </nav>

              {{- if $bulmaLogo }}
              <a href="https://bulma.io" target="_blank">
                <img src="{{ "/images/logos/made-with-bulma.png" | relURL }}" alt="Made with Bulma" width="128" height="24">
              </a>
              {{- end }}
            </div>
          </div>
        </div>
      {{- end }}
    </div>
  </div>
</footer>
